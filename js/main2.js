var main = (function(){    var init = function () {        _setUpListners();    };    var _setUpListners = function() {    };    return {        init: init    };})();main.init();var OpacitySlider = (function(){    var _setUpListners = function() {    	$( "#slider" ).slider({'value':100}).on( "slide", function( event, ui ) {	  	var opacity = ui.value/100;	  	$('.mainMark').css('opacity', opacity);	  	console.log($( "#slider" ).slider('value'));	  });    };        var init = function () {        _setUpListners();    };    return {        init: init    };})();OpacitySlider.init();var FileUploadJQ = (function(){    var _setUpListners = function() {    	$('#fileuploadImage').fileupload({        dataType: 'json',        progressall: function (e, data) {        $('.aim-img').css('position', 'relative').append('<div class="mainIMG css_animation spiner"></div>');    },        done: function (e, data) {            $('#fileuploadImage').attr('disabled', 'disabled');            $.each(data.result.files, function (index, file) {                $('.mainImg').text(file.name);                $('#watermark').removeAttr('disabled');                $('body').append('<img src="server/php/files/'+ file.name +'" class="mainIMG">');                $(".mainIMG").hide().on('load', function(event) {                    var width = $(this).width();                    var height = $(this).height();                    $('.aim-img').append('<div class="mainIMGHolder"></div>')                    if(width > 648 || height > 648){                    if(width > height){                        var finalSize = (width/height);                        _setUpListners2();                        $('.mainIMGHolder').css({                            'width': '648px',                            'height': 648/finalSize+'px',                            'background': 'url(../server/php/files/'+ file.name +')',                            'background-size':'contain',                            'overflow':'hidden'                        });                    } else {                         var finalSize = (height/width);                         _setUpListners2();                         $('.mainIMGHolder').css({                            'height': '533px',                            'width': 533/finalSize+'px',                            'background': 'url(../server/php/files/'+ file.name +')',                            'background-size':'contain',                            'overflow':'hidden'                        });                    }                    } else {                        _setUpListners2();                       $('.mainIMGHolder').css({                            'height': height,                            'width': width,                            'background': 'url(../server/php/files/'+ file.name +')',                            'background-size':'contain',                            'overflow':'hidden'                        });                    }                                        });                            });        }    });    };     var _setUpListners2 = function() {        $('#watermark').fileupload({        dataType: 'json',         progressall: function (e, data) {        $('.aim-img').append('<div class="mainIMG css_animation spiner"></div>');        },        done: function (e, data) {            $.each(data.result.files, function (index, file) {                $('.mainWatermark').text(file.name);                $('.mainIMGHolder').append('<img src="server/php/files/'+ file.name +'" class="mainMark">');                $('.spiner').remove();                $(".mainMark").hide().on('load', function(event) {                    var width = $(this).width();                    var height = $(this).height();                    if(width > 648 || height > 648){                    if(width > height){                        $(this).css('width', '100%').show('fast');                        ZAMOS.init(width,height,file.name);                    } else {                         $(this).css('height', '100%').show('fast');                         ZAMOS.init(width,height,file.name);                    }                    } else {                        $(this).show('fast');                        ZAMOS.init(width,height,file.name);                                            }                                    });            });        }    });    };    var init = function () {        _setUpListners();    };    return {        init: init    };})();FileUploadJQ.init();var ZAMOS = (function(){        var init = function (width,height,file,y) {        var intImgWidth = $('.mainIMGHolder').width();        var intImgHeight = $('.mainIMGHolder').height();        $('.btn__clear').on('click', function() {            $('.mainMark').hide().removeClass('mainMark').addClass('flag');        console.log(intImgWidth);        console.log(intImgHeight);            for(var i = 0;i<=135;i++){            $('.mainIMGHolder').append('<img src="server/php/files/'+ file +'" class="flag">');                            }                    });    };    return {        init: init    };})(); 